<div class="container search-list centerAlignedContainer">
  <div align="center" *ngIf="!(destinations.length > 0)" class="spinner">
    <div id="p2" class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
    <h4 align="center">
      Please wait.. You locations are being loaded.
    </h4>
  </div>
  <table   class="mdl-data-table mdl-js-data-table">
    <thead>
      <tr>
        <th class="expand"></th>
        <th class="name">Destination</th>
        <th class="mdl-data-table__header--sorted-ascending distance">Distance</th>
        <th class="dest-image">Image</th>
        <th class="close"></th>
      </tr>
    </thead>
    <tbody>
      <!-- <cdk-virtual-scroll-viewport [itemSize]="112" style="height:386px"> *cdkVirtualFor -->
      <ng-container *ngFor= "let destination of destinations; let destinationIndex = index;">
        <tr *ngIf="!destination?.hideDestination" style="cursor: pointer;">
          <td class="expand">
            <button class="mdl-button mdl-js-button mdl-button--icon" [attr.data-target]="'#data' + destinationIndex">
              <i class="material-icons" (click)="stopNavigation($event,destination)">{{destination?.showDescription ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</i>
            </button>
          </td>
          <td class="mdl-data-table__cell--non-numeric">
            {{destination?.location}}
          </td>
          <td>
            {{destination?.details?.distance?.text}}
          </td>
          <td>
            <img [src]="destination?.imageUrl" class="city-img">
          </td>
          <td mdl>
            <button id="{{ 'destinationMenu' + destinationIndex }}" class="mdl-button mdl-js-button mdl-button--icon">
              <i class="material-icons">more_vert</i>
            </button>
            <ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect" [attr.for]="'destinationMenu' + destinationIndex">
              <li class="mdl-menu__item" (click)="getPlaces(destination)">
                <mat-icon>open_in_new</mat-icon>View Detail</li>
              <li class="mdl-menu__item" (click)="hideDestination(destination)">
                <mat-icon>visibility_off</mat-icon>Hide from list</li>
            </ul>
          </td>
        </tr>
        <tr colspan="6" class="hiddenRow"  [attr.id]="'data' + destinationIndex"  *ngIf="!destination?.hideDestination && destination?.showDescription">
          <td></td>
          <div class="description">{{destination?.information ? destination?.information : 'No Information Available'}} </div>
        </tr>
      </ng-container>
    <!-- </cdk-virtual-scroll-viewport> -->
    </tbody>
  </table>
</div>



